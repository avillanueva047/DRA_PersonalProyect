function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},"H+bZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));var r=n("mrSG"),i=n("tk/3"),a=n("vkgz"),o=n("fXoL"),s=n("ofXK"),u=n("jtHE"),c=n("HDdC"),l=n("DH7j"),h=n("n6bG"),f=n("lJxs");function v(e,t,n,r){return Object(h.a)(n)&&(r=n,n=void 0),r?v(e,t,n).pipe(Object(f.a)((function(e){return Object(l.a)(e)?r.apply(void 0,_toConsumableArray(e)):r(e)}))):new c.a((function(r){!function e(t,n,r,i,a){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,a),o=function(){return s.removeEventListener(n,r,a)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),o=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),o=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,i,a)}i.add(o)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var d=n("yCtX"),p=n("l7GE"),y=n("ZUHj");function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!Object(l.a)(t[0]))return t[0];t=t[0]}return Object(d.a)(t,void 0).lift(new g)}var g=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _(e))}}]),e}(),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return _createClass(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(y.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var a=0;a<this.subscriptions.length;a++)if(a!==n){var o=this.subscriptions[a];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(t)}}]),n}(p.a),k=n("z6cu"),m=n("LRne"),w=n("D0XW"),O=n("Cfvw"),j=n("5+tZ"),C=n("SxV6"),x=n("7o/Q");function I(e){return function(t){return t.lift(new D(e))}}var S,N,A,P,E,T,U,B,D=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new L(e,this.value))}}]),e}(),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).value=r,i}return _createClass(n,[{key:"_next",value:function(e){this.destination.next(this.value)}}]),n}(x.a),R=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.inclusive=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new z(e,this.predicate,this.inclusive))}}]),e}(),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.inclusive=i,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(x.a),H=n("pxpQ"),W=n("JIr8"),F=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).message="indexedDB is not working",e}return n}(),M=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).message="The storage is currently localStorage,\nwhere data must be serialized, and the provided data can't be serialized.",e}return n}(),q=new o.q("localStoragePrefix",{providedIn:"root",factory:function(){return""}}),V=new o.q("localStorageIDBDBName",{providedIn:"root",factory:function(){return"ngStorage"}}),K=new o.q("localStorageIDBDBVersion",{providedIn:"root",factory:function(){return 1}}),G=new o.q("localStorageIDBStoreName",{providedIn:"root",factory:function(){return"localStorage"}}),J=new o.q("localStorageIDBWrap",{providedIn:"root",factory:function(){return!0}}),Y=((P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ngStorage",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_classCallCheck(this,e),this.database=new u.a(1),this.wrapIndex="value",this.dbName=t,this.storeName=n,this.dbVersion=r,this.noWrap=i,this.connect()}return _createClass(e,[{key:"get",value:function(e){var t=this;return this.transaction("readonly").pipe(Object(j.a)((function(n){var r=n.store,i=n.events,a=r.get(e);return i.pipe(Object(f.a)((function(){if(null!=a.result)return!t.noWrap&&"object"==typeof a.result&&t.wrapIndex in a.result&&null!=a.result[t.wrapIndex]?a.result[t.wrapIndex]:a.result})))})),Object(C.a)())}},{key:"set",value:function(e,t){var n=this;return void 0===t?this.delete(e):this.transaction("readwrite").pipe(Object(j.a)((function(r){var i=r.store,a=r.events;return i.put(n.noWrap?t:_defineProperty({},n.wrapIndex,t),e),a.pipe(I(void 0))})),Object(C.a)())}},{key:"delete",value:function(e){return this.transaction("readwrite").pipe(Object(j.a)((function(t){var n=t.store,r=t.events;return n.delete(e),r.pipe(I(void 0))})),Object(C.a)())}},{key:"clear",value:function(){return this.transaction("readwrite").pipe(Object(j.a)((function(e){var t=e.store,n=e.events;return t.clear(),n.pipe(I(void 0))})),Object(C.a)())}},{key:"keys",value:function(){var e=this;return this.transaction("readonly").pipe(Object(C.a)(),Object(j.a)((function(t){var n=t.store,r="openKeyCursor"in n?n.openKeyCursor():n.openCursor();return b([v(r,"success").pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new R(e,t))}}((function(){return null!==r.result})),Object(f.a)((function(){return r.result.key.toString()})),Object(a.a)((function(){r.result.continue()}))),e.listenError(r)])})))}},{key:"has",value:function(e){return this.transaction("readonly").pipe(Object(j.a)((function(t){var n=t.store,r=t.events,i="getKey"in n?n.getKey(e):n.get(e);return r.pipe(Object(f.a)((function(){return void 0!==i.result})))})),Object(C.a)())}},{key:"connect",value:function(){var e,t=this;try{e=indexedDB.open(this.dbName,this.dbVersion)}catch(n){return void this.database.error(new F)}this.createStore(e),b([v(e,"success"),this.listenError(e)]).pipe(Object(C.a)()).subscribe({next:function(){t.database.next(e.result)},error:function(){t.database.error(new F)}})}},{key:"createStore",value:function(e){var t=this;v(e,"upgradeneeded").pipe(Object(C.a)()).subscribe({next:function(){e.result.objectStoreNames.contains(t.storeName)||e.result.createObjectStore(t.storeName)}})}},{key:"transaction",value:function(e){var t=this;return this.database.pipe(Object(j.a)((function(n){var r;try{r=n.transaction([t.storeName],e)}catch(o){return Object(k.a)(o)}var i=r.objectStore(t.storeName),a=t.listenTransactionEvents(r);return Object(m.a)({store:i,events:a})})))}},{key:"listenError",value:function(e){return v(e,"error").pipe(Object(j.a)((function(){return Object(k.a)(e.error)})))}},{key:"listenTransactionEvents",value:function(e){return b([v(e,"complete"),this.listenError(e)])}},{key:"backingStore",get:function(){return{database:this.dbName,store:this.storeName,version:this.dbVersion}}},{key:"size",get:function(){return this.transaction("readonly").pipe(Object(j.a)((function(e){var t=e.store,n=e.events,r=t.count();return n.pipe(Object(f.a)((function(){return r.result})))})),Object(C.a)())}}]),e}()).\u0275fac=function(e){return new(e||P)(o.Ub(V),o.Ub(G),o.Ub(K),o.Ub(J))},P.\u0275prov=Object(o.Hb)({factory:function(){return new P(Object(o.Ub)(V),Object(o.Ub)(G),Object(o.Ub)(K),Object(o.Ub)(J))},token:P,providedIn:"root"}),P),X=((A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_classCallCheck(this,e),this.prefix=t||""}return _createClass(e,[{key:"get",value:function(e){var t,n=localStorage.getItem(this.prefixKey(e));if(null!=n)try{t=JSON.parse(n)}catch(r){return Object(k.a)(r)}return Object(m.a)(t)}},{key:"set",value:function(e,t){var n=null,r=Object.getPrototypeOf(t);if("object"==typeof t&&null!==t&&!Array.isArray(t)&&r!==Object.prototype&&null!==r)return Object(k.a)(new M);try{n=JSON.stringify(t)}catch(i){return Object(k.a)(i)}try{localStorage.setItem(this.prefixKey(e),n)}catch(i){return Object(k.a)(i)}return Object(m.a)(void 0)}},{key:"delete",value:function(e){return localStorage.removeItem(this.prefixKey(e)),Object(m.a)(void 0)}},{key:"clear",value:function(){return localStorage.clear(),Object(m.a)(void 0)}},{key:"keys",value:function(){var e=this;return new c.a((function(t){for(var n=0;n<localStorage.length;n+=1)t.next(e.getUnprefixedKey(n));t.complete()})).pipe(Object(H.b)(w.a))}},{key:"has",value:function(e){for(var t=0;t<localStorage.length;t+=1)if(e===this.getUnprefixedKey(t))return Object(m.a)(!0);return Object(m.a)(!1)}},{key:"getUnprefixedKey",value:function(e){var t=localStorage.key(e);return null!==t?this.prefix?t.substr(this.prefix.length):t:null}},{key:"prefixKey",value:function(e){return"".concat(this.prefix).concat(e)}},{key:"size",get:function(){return Object(m.a)(localStorage.length)}}]),e}()).\u0275fac=function(e){return new(e||A)(o.Ub(q))},A.\u0275prov=Object(o.Hb)({factory:function(){return new A(Object(o.Ub)(q))},token:A,providedIn:"root"}),A),Q=((N=function(){function e(){_classCallCheck(this,e),this.memoryStorage=new Map}return _createClass(e,[{key:"get",value:function(e){var t=this.memoryStorage.get(e);return Object(m.a)(t)}},{key:"set",value:function(e,t){return this.memoryStorage.set(e,t),Object(m.a)(void 0)}},{key:"delete",value:function(e){return this.memoryStorage.delete(e),Object(m.a)(void 0)}},{key:"clear",value:function(){return this.memoryStorage.clear(),Object(m.a)(void 0)}},{key:"keys",value:function(){return Object(O.a)(this.memoryStorage.keys())}},{key:"has",value:function(e){return Object(m.a)(this.memoryStorage.has(e))}},{key:"size",get:function(){return Object(m.a)(this.memoryStorage.size)}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275prov=Object(o.Hb)({factory:function(){return new N},token:N,providedIn:"root"}),N),Z=((S=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||S)},S.\u0275prov=Object(o.Hb)({factory:function(){return function(e,t,n,r,i,a){try{if(Object(s.m)(e)&&void 0!==indexedDB&&null!==indexedDB&&"open"in indexedDB)return new Y(n,r,i,a);if(Object(s.m)(e)&&void 0!==localStorage&&null!==localStorage&&"getItem"in localStorage)return new X(t)}catch(o){}return new Q}(Object(o.Ub)(o.B),Object(o.Ub)(q),Object(o.Ub)(V),Object(o.Ub)(G),Object(o.Ub)(K),Object(o.Ub)(J))},token:S,providedIn:"root"}),S),$=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).message="Data stored is not valid against the provided JSON schema.\nCheck your JSON schema, otherwise it means data has been corrupted.",e}return n}(),ee=((B=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e,t){switch(t.type){case"string":return this.validateString(e,t);case"number":case"integer":return this.validateNumber(e,t);case"boolean":return this.validateBoolean(e,t);case"array":return this.validateArray(e,t);case"object":return this.validateObject(e,t)}}},{key:"validateString",value:function(e,t){if("string"!=typeof e)return!1;if(!this.validateConst(e,t))return!1;if(!this.validateEnum(e,t))return!1;if(void 0!==t.maxLength&&e.length>t.maxLength)return!1;if(void 0!==t.minLength&&e.length<t.minLength)return!1;if(t.pattern){var n=null;try{n=new RegExp(t.pattern)}catch(r){}if(n&&!n.test(e))return!1}return!0}},{key:"validateNumber",value:function(e,t){return!("number"!=typeof e||"integer"===t.type&&!Number.isInteger(e)||!this.validateConst(e,t)||!this.validateEnum(e,t)||t.multipleOf&&!Number.isInteger(e/t.multipleOf)||void 0!==t.maximum&&e>t.maximum||void 0!==t.exclusiveMaximum&&e>=t.exclusiveMaximum||void 0!==t.minimum&&e<t.minimum||void 0!==t.exclusiveMinimum&&e<=t.exclusiveMinimum)}},{key:"validateBoolean",value:function(e,t){return"boolean"==typeof e&&!!this.validateConst(e,t)}},{key:"validateArray",value:function(e,t){if(!Array.isArray(e))return!1;if(void 0!==t.maxItems&&e.length>t.maxItems)return!1;if(void 0!==t.minItems&&e.length<t.minItems)return!1;if(t.uniqueItems){var n=new Set(e);if(e.length!==n.size)return!1}if(Array.isArray(t.items))return this.validateTuple(e,t.items);var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!this.validate(a,t.items))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}},{key:"validateTuple",value:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<t.length;n+=1)if(!this.validate(e[n],t[n]))return!1;return!0}},{key:"validateObject",value:function(e,t){if("object"!=typeof e||null===e)return!1;if(Object.keys(t.properties).length<Object.keys(e).length)return!1;if(t.required){var n,r=_createForOfIteratorHelper(t.required);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!e.hasOwnProperty(i))return!1}}catch(o){r.e(o)}finally{r.f()}}for(var a in t.properties)if(t.properties.hasOwnProperty(a)&&e.hasOwnProperty(a)&&!this.validate(e[a],t.properties[a]))return!1;return!0}},{key:"validateConst",value:function(e,t){return!t.const||e===t.const}},{key:"validateEnum",value:function(e,t){return!t.enum||t.enum.includes(e)}}]),e}()).\u0275fac=function(e){return new(e||B)},B.\u0275prov=Object(o.Hb)({factory:function(){return new B},token:B,providedIn:"root"}),B),te=((U=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ee,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";_classCallCheck(this,e),this.database=t,this.jsonValidator=n,this.LSPrefix=r,this.notifiers=new Map}return _createClass(e,[{key:"get",value:function(e,t){var n=this;return this.database.get(e).pipe(this.catchIDBBroken((function(){return n.database.get(e)})),Object(j.a)((function(e){return null==e?Object(m.a)(void 0):t?n.jsonValidator.validate(e,t)?Object(m.a)(e):Object(k.a)(new $):Object(m.a)(e)})))}},{key:"set",value:function(e,t,n){var r=this;return null==t?this.delete(e):n&&!this.jsonValidator.validate(t,n)?Object(k.a)(new $):this.database.set(e,t).pipe(this.catchIDBBroken((function(){return r.database.set(e,t)})),Object(a.a)((function(){r.notify(e,t)})))}},{key:"delete",value:function(e){var t=this;return this.database.delete(e).pipe(this.catchIDBBroken((function(){return t.database.delete(e)})),Object(a.a)((function(){t.notify(e,void 0)})))}},{key:"clear",value:function(){var e=this;return this.database.clear().pipe(this.catchIDBBroken((function(){return e.database.clear()})),Object(a.a)((function(){var t,n=_createForOfIteratorHelper(e.notifiers.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;e.notify(r,void 0)}}catch(i){n.e(i)}finally{n.f()}})))}},{key:"keys",value:function(){var e=this;return this.database.keys().pipe(this.catchIDBBroken((function(){return e.database.keys()})))}},{key:"has",value:function(e){var t=this;return this.database.has(e).pipe(this.catchIDBBroken((function(){return t.database.has(e)})))}},{key:"watch",value:function(e,t){var n=this.notifiers.get(e);return n||(n=new u.a(1),this.notifiers.set(e,n),this.get(e,t).subscribe({next:function(e){return n.next(e)},error:function(e){return n.error(e)}})),n.asObservable()}},{key:"notify",value:function(e,t){var n=this.notifiers.get(e);n&&n.next(t)}},{key:"catchIDBBroken",value:function(e){var t=this;return Object(W.a)((function(n){if(null!=n&&"indexedDB is not working"===n.message){try{t.database="getItem"in localStorage?new X(t.LSPrefix):new Q}catch(r){t.database=new Q}return e()}return Object(k.a)(n)}))}},{key:"size",get:function(){var e=this;return this.database.size.pipe(this.catchIDBBroken((function(){return e.database.size})))}},{key:"backingEngine",get:function(){return this.database instanceof Y?"indexedDB":this.database instanceof X?"localStorage":this.database instanceof Q?"memory":"unknown"}},{key:"backingStore",get:function(){return this.database instanceof Y?this.database.backingStore:{database:"",store:"",version:0}}},{key:"fallbackBackingStore",get:function(){return this.database instanceof X?{prefix:this.database.prefix}:{prefix:""}}}]),e}()).\u0275fac=function(e){return new(e||U)(o.Ub(Z),o.Ub(ee),o.Ub(q))},U.\u0275prov=Object(o.Hb)({factory:function(){return new U(Object(o.Ub)(Z),Object(o.Ub)(ee),Object(o.Ub)(q))},token:U,providedIn:"root"}),U),ne=((T=function e(){_classCallCheck(this,e),this.API_URL="http://localhost:8080/api/"}).\u0275fac=function(e){return new(e||T)},T.\u0275prov=o.Hb({token:T,factory:T.\u0275fac,providedIn:"root"}),T),re=((E=function(){function e(t,n,r){_classCallCheck(this,e),this.http=t,this.storage=n,this.env=r,this.isLoggedIn=!1}return _createClass(e,[{key:"login",value:function(e,t){var n=this;return this.http.post(this.env.API_URL+"auth/login",{email:e,password:t}).pipe(Object(a.a)((function(e){return n.storage.set("token",e).toPromise().then((function(){console.log("Token Stored")}),(function(e){return console.error("Error storing item",e)})),n.token=e,n.isLoggedIn=!0,e})))}},{key:"getToken",value:function(){return this.token}},{key:"logOut",value:function(){var e=this;return this.header=new i.c({Authorization:this.token.token_type+" "+this.token.access_token}),this.http.get(this.env.API_URL+"auth/logout",{headers:this.header}).pipe((function(t){return e.storage.clear(),e.isLoggedIn=!1,delete e.token,t}))}},{key:"register",value:function(e,t,n){return this.http.post(this.env.API_URL+"auth/register",{name:e,email:t,password:n,admin:!1})}},{key:"getUser",value:function(){var e=new i.c({Authorization:this.token.token_type+" "+this.token.access_token});return this.http.get(this.env.API_URL+"auth/user",{headers:e}).pipe(Object(a.a)((function(e){return e})))}},{key:"getWorkers",value:function(){var e=new i.c({Authorization:this.token.token_type+" "+this.token.access_token});return this.http.get(this.env.API_URL+"auth/admin/workers",{headers:e})}},{key:"addDelivery",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new i.c({Authorization:this.token.token_type+" "+this.token.access_token}),t.next=3,this.http.post(this.env.API_URL+"auth/admin/create",{user_id:e.user_id,deliver_name:e.deliver_name,delivery_name:e.delivery_name,client_name:e.client_name,client_email:e.client_email,client_direction:e.client_direction,client_phone:e.client_phone,latitude:e.latitude,longitud:e.longitud},{headers:n}).toPromise().then((function(){console.log("Delivery Added")}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getDeliveries",value:function(e){var t=new i.c({Authorization:this.token.token_type+" "+this.token.access_token});return this.http.get(this.env.API_URL+"auth/admin/deliveries/"+e,{headers:t})}},{key:"getDelivered",value:function(e){var t=new i.c({Authorization:this.token.token_type+" "+this.token.access_token});return this.http.get(this.env.API_URL+"auth/admin/delivered/"+e,{headers:t})}},{key:"delivered",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new i.c({Authorization:this.token.token_type+" "+this.token.access_token}),t.next=3,this.http.post(this.env.API_URL+"auth/user/delivered",{id:e},{headers:n}).toPromise().then((function(){console.log("Delivery Handed")}));case 3:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||E)(o.Ub(i.a),o.Ub(te),o.Ub(ne))},E.\u0275prov=o.Hb({token:E,factory:E.\u0275fac,providedIn:"root"}),E)},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():a()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},jtHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("XNiG"),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),a=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(i),o=n("quSY"),s=n("pxpQ"),u=n("9ppp"),c=n("Ylt2"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new h(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new c.a(this,e)),i&&e.add(e=new s.a(e,i)),n)for(var l=0;l<a&&!e.closed;l++)e.next(r[l]);else for(var h=0;h<a&&!e.closed;h++)e.next(r[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(r.a),h=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n}},mrSG:function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}n.d(t,"a",(function(){return r}))},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var r,i=n("7o/Q"),a=n("EY2u"),o=n("LRne"),s=n("z6cu"),u=((r=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(a.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.scheduler,this.delay))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=a,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(u.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(u.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(i.a),f=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(a,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function a(e){var t=e.error;e.subscriber.error(t)}}}]);